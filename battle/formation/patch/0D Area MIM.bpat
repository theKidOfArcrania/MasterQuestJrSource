
% ====================================================
% Lakiwun
% Weaker Lakitu, throws weaker spiny
% High HP, but weak to dizzy
% ====================================================

#import Lakiwun.bpat
#import PurpleSpiny.bpat

% ====================================================
% Bzzap
% + Changed level to lower XP reward
% ====================================================

@ $Bzzap
{
[Level] 12`b % Changed 19 -> 15
[MaxHP] 3`b %tanky bug
}

@ $Script_8021B28C
{
[428]  Call     EnemyDamageTarget 	( .Actor:Self *Var[0] 00000000 00000000 80020264 000000006 00000020 ) %6 dmg + poison = 9
}

@ $Script_8021BC74
{
  [D60]  	Call     EnemyDamageTarget 	( .Actor:Self *Var[0] 10000000 00000000 00000000 00000002 00000010 ) 
  [F30]  	Call     EnemyDamageTarget 	( .Actor:Self *Var[0] 10000000 00000000 00000000 00000002 00000040 )
 [1100]  	Call     EnemyDamageTarget 	( .Actor:Self *Var[0] 10000000 00000000 00000000 00000002 00000040 )
 [12D0]  	Call     EnemyDamageTarget 	( .Actor:Self *Var[0] 10000000 00000000 00000000 00000002 00000040 )
 [14A4]     Call     EnemyDamageTarget 	( .Actor:Self *Var[0] 10000000 00000000 80080464 00000002 00000020 ) 
}

% ====================================================
% Piranha Plant
% + Attacks have an 80% chance to inflict either Poison or Dizzy
% ====================================================

@ $PiranhaPlant
{
% stats
[MaxHP]         6`b %tanky plant
}

@ $DefenseTable_8021D394
{
.Element:Normal 00000000
.Element:Fire   FFFFFFFB %but still a plant :)
.Element:End
}

@ $Script_TakeTurn_8021DCD4
{
  [67C]  Call     EnemyDamageTarget 	( .Actor:Self *Var[0] 00000000 00000000 00000000 00000003 00000020 )
}

% ====================================================
% Fuzzy
% + Saps 4HP at a time
% + Attack has a 40% chance to inflict Paralysis
% ====================================================

@ $ForestFuzzy
{
% stats
[MaxHP]         5`b %will almost full heal every turn. Very broken, try a volt shroom!
}

@ $Script_80219054 { [948]
	Call     EnemyDamageTarget       	( FFFFFF81 *Var[A] 08000000 00000000 80010128 00000003 00000020 ) % 40% chance of Paralyze for 1 turns
}

% ====================================================
% Formation Changes
% ====================================================
 
 #import Boo.bpat
 %no run?
@ $Boo {
 [Escape]        0`b 
}

@ $Formation_01
{
$ForestFuzzy 00000001 0000000A 00000000 00000000 00000000 00000000 
$Lakiwun	 00000006 00000009 00000000 00000000 00000000 00000000 
$ForestFuzzy 00000003 00000008 00000000 00000000 00000000 00000000 
}

@ $Formation_02
{
$ForestFuzzy 00000001 0000000A 00000000 00000000 00000000 00000000 
$Bzzap	 00000005 00000009 00000000 00000000 00000000 00000000 
$PurpleSpiny 00000002 00000008 00000000 00000000 00000000 00000000 
$Bzzap	 00000006 00000007 00000000 00000000 00000000 00000000 
}

@ $Formation_03
{
$ForestFuzzy 	00000001 0000000A 00000000 00000000 00000000 00000000 
$PiranhaPlant 	00000002 00000009 00000000 00000000 00000000 00000000 
$Lakiwun		00000007 00000008 00000000 00000000 00000000 00000000
}

@ $Formation_04
{
$ForestFuzzy 00000000 0000000A 00000000 00000000 00000000 00000000 
$ForestFuzzy 00000001 00000009 00000000 00000000 00000000 00000000 
$PiranhaPlant 00000002 00000008 00000000 00000000 00000000 00000000
$Lakiwun	 00000007 00000007 00000000 00000000 00000000 00000000 
}

@ $Formation_05
{
$ForestFuzzy 00000001 0000000A 00000000 00000000 00000000 00000000 
$PurpleSpiny 00000002 00000008 00000000 00000000 00000000 00000000 % replaced piranha plant
$Bzzap       00000006 00000009 00000000 00000000 00000000 00000000 
$Bzzap       00000007 00000007 00000000 00000000 00000000 00000000 
}

@ $Formation_06
{
$ForestFuzzy  00000000 0000000A 00000000 00000000 00000000 00000000 
$PurpleSpiny    00000001 00000009 00000000 00000000 00000000 00000000 % replaced fuzzy
$PiranhaPlant 00000002 00000008 00000000 00000000 00000000 00000000 
$Lakiwun        00000007 00000007 00000000 00000000 00000000 00000000 % replaced fuzzy
}

@ $Formation_07
{
$ForestFuzzy 	 00000000 0000000A 00000000 00000000 00000000 00000000 
$PiranhaPlant 	 00000001 00000009 00000000 00000000 00000000 00000000 
$Bzzap       	 00000006 00000008 00000000 00000000 00000000 00000000 
$Bzzap		     00000007 00000007 00000000 00000000 00000000 00000000
}

@ $Formation_09
{
$PiranhaPlant 00000001 0000000A 00000000 00000000 00000000 00000000 
$PiranhaPlant 00000002 00000009 00000000 00000000 00000000 00000000 
$Lakiwun        00000007 00000008 00000000 00000000 00000000 00000000 % added
}

@ $Formation_0A
{
$PiranhaPlant 00000000 0000000A 00000000 00000000 00000000 00000000 
$PiranhaPlant 00000001 00000009 00000000 00000000 00000000 00000000
$PurpleSpiny  00000002 00000008 00000000 00000000 00000000 00000000
$Lakiwun      00000006 00000007 00000000 00000000 00000000 00000000 
}

@ $Formation_0B
{
$PiranhaPlant 00000001 0000000A 00000000 00000000 00000000 00000000 
$PiranhaPlant 00000002 00000009 00000000 00000000 00000000 00000000 
$Bzzap        00000006 00000008 00000000 00000000 00000000 00000000 
$Bzzap        00000007 00000007 00000000 00000000 00000000 00000000 
}

@ $Formation_0D
{
$PiranhaPlant 00000000 0000000A 00000000 00000000 00000000 00000000 
$Bzzap		  00000005 00000009 00000000 00000000 00000000 00000000 
$Bzzap		  00000006 00000008 00000000 00000000 00000000 00000000 
$ForestFuzzy  00000001 00000007 00000000 00000000 00000000 00000000
$Bzzap		  00000007 00000006 00000000 00000000 00000000 00000000  
}

@ $Formation_0E
{
$PiranhaPlant 00000000 0000000A 00000000 00000000 00000000 00000000 
$PurpleSpiny  00000001 00000009 00000000 00000000 00000000 00000000 % replaced fuzzy
$PurpleSpiny  00000002 00000008 00000000 00000000 00000000 00000000 % replaced fuzzy
}

@ $Formation_0F
{
$PiranhaPlant 00000000 0000000A 00000000 00000000 00000000 00000000 
$PurpleSpiny  00000001 00000009 00000000 00000000 00000000 00000000 
$PiranhaPlant 00000002 00000008 00000000 00000000 00000000 00000000 
$Lakiwun        00000007 00000007 00000000 00000000 00000000 00000000 % added
}

@ $Formation_0C
{
$Boo 00000001 0000000A 00000000 00000000 00000000 00000000 
$Boo 00000002 00000009 00000000 00000000 00000000 00000000 
$Boo 00000003 00000008 00000000 00000000 00000000 00000000
}

#new:Formation $20sFormation1_12
{
$ForestFuzzy 00000001 0000000A 00000000 00000000 00000000 00000000 
$PurpleSpiny  00000002 00000009 00000000 00000000 00000000 00000000 % replaced fuzzy
$PurpleSpiny  00000003 00000008 00000000 00000000 00000000 00000000 % replaced fuzzy
$Bzzap 00000007 00000007 00000000 00000000 00000000 00000000 
}

#new:Formation $20sFormation2_13
{
$ForestFuzzy  00000001 0000000A 00000000 00000000 00000000 00000000
$PiranhaPlant 00000002 00000009 00000000 00000000 00000000 00000000
$Lakiwun	  00000006 00000007 00000000 00000000 00000000 00000000  
$Lakiwun	  00000007 00000006 00000000 00000000 00000000 00000000
}

#new:Formation $20sFormation3_14
{
$Boo   00000001 0000000A 00000000 00000000 00000000 00000000 
$Boo   00000002 00000009 00000000 00000000 00000000 00000000 
$Bzzap 00000005 00000008 00000000 00000000 00000000 00000000  
$Bzzap 00000006 00000007 00000000 00000000 00000000 00000000
}

#new:Formation $20sFormation4_15
{
$Boo 00000000 0000000A 00000000 00000000 00000000 00000000 
$Boo 00000001 00000009 00000000 00000000 00000000 00000000 
$Boo 00000002 00000008 00000000 00000000 00000000 00000000
$Boo 00000003 00000007 00000000 00000000 00000000 00000000
}

@ $FormationTable
{
$SJIS_8021EE50 00000003 $Formation_04 $Stage_8021E48C 00000000 % Replace all 0 with 4
$SJIS_8021EE38 00000003 $Formation_01 $Stage_8021E48C 00000000 
$SJIS_8021EE20 00000004 $Formation_02 $Stage_8021E48C 00000000 
$SJIS_8021EDFC 00000003 $Formation_03 $Stage_8021E48C 00000000 % unused
$SJIS_8021EDD4 00000004 $Formation_04 $Stage_8021E48C 00000000 
$SJIS_8021EDAC 00000004 $Formation_05 $Stage_8021E48C 00000000 % Replaced Piranha Plant with Dry Bones
$SJIS_8021ED84 00000004 $Formation_06 $Stage_8021E48C 00000000 % Replaced Fuzzy with Bzzap
$SJIS_8021ED3C 00000004 $Formation_07 $Stage_8021E48C 00000000 
$SJIS_8021ED28 00000001 $Formation_08 $Stage_8021E48C 00000000 % unused
$SJIS_8021ED14 00000003 $Formation_09 $Stage_8021E48C 00000000 % Added Bzzap
$SJIS_8021ED00 00000004 $Formation_0A $Stage_8021E48C 00000000 % added stuff
$SJIS_8021ECEC 00000004 $Formation_0B $Stage_8021E48C 00000000 
$SJIS_8021ECC8 00000003 $Formation_0C $Stage_8021E48C 00000000 % Boo Miniboss
$SJIS_8021ECA0 00000005 $Formation_0D $Stage_8021E48C 00000000 
$SJIS_8021EC78 00000003 $Formation_0E $Stage_8021E48C 00000000 % Replaced Forest Fuzzy with Dry Bones
$SJIS_8021EC40 00000004 $Formation_0F $Stage_8021E48C 00000000 % Added Bzzap
$SJIS_8021EC34 00000003 $Formation_11 $Stage_8021E48C 00000000 % Replace all 10 with 11
$SJIS_8021EC28 00000003 $Formation_11 $Stage_8021E48C 00000000 % unused
00000000 00000004 $20sFormation1_12 $AncientStage 00000000 %These formations are
00000000 00000004 $20sFormation2_13 $AncientStage 00000000 %for the pit of 100 trials
00000000 00000004 $20sFormation3_14 $AncientStage 00000000 %hopefully this works okay
00000000 00000004 $20sFormation4_15 $AncientStage 00000000
00000000 00000000 00000000 00000000 00000000 
}

#new:Stage $AncientStage
{
"kpa_tex"
"kmr_bt07_shape"
"kmr_bt07_hit"
$Script_BeforeBoss 
$Script_AfterBoss
00000000 
00000000
00000000 
00000000 
00000000 
}

#new:Script $Script_BeforeBoss
{
	Call	SetSpriteShading 	( FFFFFFFF )
	Call	SetCamBGColor 	( 00000001 00000000 00000000 00000000 )
	Return
	End
}

#new:Script $Script_AfterBoss
{
	Return
	End 
}
